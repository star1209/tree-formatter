{"version":3,"file":"index.esm.js","sources":["../src/index.ts"],"sourcesContent":["import { SmartTreeBuilder } from './builder/smart';\nimport { buildEnhancedTree } from './core/enhanced';\nimport { buildMinimalTree } from './core/minimal';\nimport { EnhancedTreeConfig, NodeContext, TreeBuilderConfig, TreePlugin } from './core/types';\n\n// 导出核心功能\nexport { buildMinimalTree } from './core/minimal';\nexport { buildEnhancedTree } from './core/enhanced';\nexport { validateMinimalTree } from './core/minimal';\n\n// 导出构建器\nexport { SmartTreeBuilder } from './builder/smart';\n\n// 导出插件\nexport { PluginManager } from './plugins';\nexport { createCycleDetectionPlugin, createTopologicalDetector } from './plugins/cycle-detection';\nexport { createSortingPlugin, createMultiLevelSorting } from './plugins/sorting';\n\n// 导出类型\nexport type {\n  TreeBuilderConfig,\n  EnhancedTreeConfig,\n  NodeContext,\n  TreePlugin,\n  BuildStats\n} from './core/types';\n\n/**\n * 快捷函数：创建树形结构（自动选择策略）\n */\nexport function createTree<T = any>(\n  list: T[],\n  options: TreeBuilderConfig<T> = {}\n): any[] {\n  // 简单策略：根据数据量选择算法\n  if (list.length < 1000) {\n    return buildMinimalTree(list, options);\n  }\n  \n  // 大数据量使用增强构建\n  return buildEnhancedTree(list, options as any);\n}\n\n/**\n * 创建高级树形构建器\n */\nexport function createAdvancedTree<T = any, R = T>(\n  list: T[],\n  options: EnhancedTreeConfig<T> = {},\n  formatCallback?: (node: T, context: NodeContext) => R\n): R[] {\n  return buildEnhancedTree(list, options, formatCallback);\n}\n\n/**\n * 创建带插件的树形构建器\n */\nexport function createPluginTreeBuilder<T = any>(\n  plugins: TreePlugin<T>[] = [],\n  config: TreeBuilderConfig<T> = {}\n): SmartTreeBuilder<T> {\n  const builder = new SmartTreeBuilder<T>(config);\n  \n  plugins.forEach(plugin => {\n    builder.use(plugin);\n  });\n  \n  return builder;\n}\n\n// 版本信息\nexport const VERSION = '1.0.0';\nexport const AUTHOR = 'Tree Formatter Library';\nexport const DESCRIPTION = '高性能、模块化的树形结构构建库';"],"names":["exports","createTree","list","options","length","minimal_1","buildMinimalTree","enhanced_1","buildEnhancedTree","createAdvancedTree","formatCallback","createPluginTreeBuilder","plugins","config","builder","smart_1","forEach","plugin","use","require","minimal_2","Object","defineProperty","enumerable","get","enhanced_2","minimal_3","validateMinimalTree","smart_2","SmartTreeBuilder","plugins_1","PluginManager","cycle_detection_1","createCycleDetectionPlugin","createTopologicalDetector","sorting_1","createSortingPlugin","createMultiLevelSorting","VERSION","AUTHOR","DESCRIPTION"],"mappings":"gXA8BAA,QAWCC,WAXD,SACEC,EACAC,EAAgC,IAGhC,GAAID,EAAKE,OAAS,IAChB,OAAO,EAAAC,EAAgBC,kBAACJ,EAAMC,GAIhC,OAAO,EAAAI,EAAiBC,mBAACN,EAAMC,EACjC,EAKAH,QAMCS,mBAND,SACEP,EACAC,EAAiC,CAAA,EACjCO,GAEA,OAAO,EAAAH,qBAAkBL,EAAMC,EAASO,EAC1C,EAKAV,QAWCW,wBAXD,SACEC,EAA2B,GAC3BC,EAA+B,CAAA,GAE/B,MAAMC,EAAU,IAAIC,mBAAoBF,GAMxC,OAJAD,EAAQI,QAAQC,IACdH,EAAQI,IAAID,KAGPH,CACT,EApEA,MAAmDC,EAAAI,QAAA,mBACCZ,EAAAY,QAAA,mBACFd,EAAAc,QAAA,kBAIlD,IAAkDC,EAAAD,QAAA,kBAAzCE,OAAAC,eAAAtB,QAAA,mBAAA,CAAAuB,YAAA,EAAAC,IAAA,WAAA,OAAAJ,EAAAd,gBAAgB,IACzB,IAAoDmB,EAAAN,QAAA,mBAA3CE,OAAAC,eAAAtB,QAAA,oBAAA,CAAAuB,YAAA,EAAAC,IAAA,WAAA,OAAAC,EAAAjB,iBAAiB,IAC1B,IAAqDkB,EAAAP,QAAA,kBAA5CE,OAAAC,eAAAtB,QAAA,sBAAA,CAAAuB,YAAA,EAAAC,IAAA,WAAA,OAAAE,EAAAC,mBAAmB,IAG5B,IAAmDC,EAAAT,QAAA,mBAA1CE,OAAAC,eAAAtB,QAAA,mBAAA,CAAAuB,YAAA,EAAAC,IAAA,WAAA,OAAAI,EAAAC,gBAAgB,IAGzB,IAA0CC,EAAAX,QAAA,aAAjCE,OAAAC,eAAAtB,QAAA,gBAAA,CAAAuB,YAAA,EAAAC,IAAA,WAAA,OAAAM,EAAAC,aAAa,IACtB,IAAkGC,EAAAb,QAAA,6BAAzFE,OAAAC,eAAAtB,QAAA,6BAAA,CAAAuB,YAAA,EAAAC,IAAA,WAAA,OAAAQ,EAAAC,0BAA0B,IAAEZ,OAAAC,eAAAtB,QAAA,4BAAA,CAAAuB,YAAA,EAAAC,IAAA,WAAA,OAAAQ,EAAAE,yBAAyB,IAC9D,IAAiFC,EAAAhB,QAAA,qBAAxEE,OAAAC,eAAAtB,QAAA,sBAAA,CAAAuB,YAAA,EAAAC,IAAA,WAAA,OAAAW,EAAAC,mBAAmB,IAAEf,OAAAC,eAAAtB,QAAA,0BAAA,CAAAuB,YAAA,EAAAC,IAAA,WAAA,OAAAW,EAAAE,uBAAuB,IAuDxCrC,QAAAsC,QAAU,QACVtC,QAAAuC,OAAS,yBACTvC,QAAAwC,YAAc"}