<!DOCTYPE html><html class="default" lang="en" data-base="./"><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>tree-formatter</title><meta name="description" content="Documentation for tree-formatter"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script defer src="assets/main.js"></script><script async src="assets/icons.js" id="tsd-icons-script"></script><script async src="assets/search.js" id="tsd-search-script"></script><script async src="assets/navigation.js" id="tsd-nav-script"></script><script async src="assets/hierarchy.js" id="tsd-hierarchy-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => window.app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><a href="index.html" class="title">tree-formatter</a><div id="tsd-toolbar-links"></div><button id="tsd-search-trigger" class="tsd-widget" aria-label="Search"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-search"></use></svg></button><dialog id="tsd-search" aria-label="Search"><input role="combobox" id="tsd-search-input" aria-controls="tsd-search-results" aria-autocomplete="list" aria-expanded="true" autocapitalize="off" autocomplete="off" placeholder="Search the docs" maxLength="100"/><ul role="listbox" id="tsd-search-results"></ul><div id="tsd-search-status" aria-live="polite" aria-atomic="true"><div>Preparing search index...</div></div></dialog><a href="#" class="tsd-widget menu" id="tsd-toolbar-menu-trigger" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-menu"></use></svg></a></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><h1>tree-formatter</h1></div><div class="tsd-panel tsd-typography"><h1 id="tree-formatter-ğŸŒ³" class="tsd-anchor-link">Tree Formatter ğŸŒ³<a href="#tree-formatter-ğŸŒ³" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1><p><a href="https://www.typescriptlang.org/"><img src="https://img.shields.io/badge/TypeScript-5.0+-3178c6.svg" alt="TypeScript"></a>
<a href="https://webpack.js.org/guides/tree-shaking/"><img src="https://img.shields.io/badge/Tree--Shaking-%E6%94%AF%E6%8C%81-green.svg" alt="Tree-Shaking"></a>
<a href="https://opensource.org/licenses/MIT"><img src="https://img.shields.io/badge/License-MIT-yellow.svg" alt="License: MIT"></a></p>
<p><strong>é«˜æ€§èƒ½ã€æ¨¡å—åŒ–çš„æ ‘å½¢ç»“æ„æ„å»ºåº“</strong>ï¼Œæ”¯æŒå¤šç§æ„å»ºç­–ç•¥ã€æ’ä»¶ç³»ç»Ÿå’Œå®Œæ•´TypeScriptç±»å‹å®šä¹‰ã€‚</p>
<h2 id="âœ¨-ç‰¹æ€§" class="tsd-anchor-link">âœ¨ ç‰¹æ€§<a href="#âœ¨-ç‰¹æ€§" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><ul>
<li>ğŸš€ <strong>æè‡´æ€§èƒ½</strong>ï¼šä¼˜åŒ–çš„ç®—æ³•ï¼Œæ”¯æŒ10ä¸‡+èŠ‚ç‚¹å¿«é€Ÿæ„å»º</li>
<li>ğŸ§© <strong>æ¨¡å—åŒ–è®¾è®¡</strong>ï¼šæŒ‰éœ€å¯¼å…¥ï¼ŒTree-Shakingå‹å¥½ï¼Œæ‰“åŒ…ä½“ç§¯æœ€å°åŒ–</li>
<li>ğŸ”Œ <strong>æ’ä»¶ç³»ç»Ÿ</strong>ï¼šå¯æ‰©å±•çš„æ’ä»¶æ¶æ„ï¼Œçµæ´»å®šåˆ¶åŠŸèƒ½</li>
<li>ğŸ§  <strong>æ™ºèƒ½ç­–ç•¥</strong>ï¼šæ ¹æ®æ•°æ®ç‰¹å¾è‡ªåŠ¨é€‰æ‹©æœ€ä¼˜æ„å»ºç®—æ³•</li>
<li>ğŸ“Š <strong>æ€§èƒ½ç›‘æ§</strong>ï¼šå†…ç½®æ€§èƒ½ç»Ÿè®¡å’Œå†…å­˜ä½¿ç”¨åˆ†æ</li>
<li>ğŸ›¡ï¸ <strong>ç±»å‹å®‰å…¨</strong>ï¼šå®Œæ•´çš„TypeScriptæ”¯æŒï¼Œå®Œæ•´çš„IDEæç¤º</li>
<li>ğŸ”„ <strong>å¤šç§æ„å»ºæ¨¡å¼</strong>ï¼šæ”¯æŒæœ€å°åŒ–ã€å¢å¼ºå‹ã€æ’ä»¶åŒ–ç­‰å¤šç§æ„å»ºæ–¹å¼</li>
</ul>
<h2 id="ğŸ“¦-å®‰è£…" class="tsd-anchor-link">ğŸ“¦ å®‰è£…<a href="#ğŸ“¦-å®‰è£…" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="bash"><span class="hl-0"># ä½¿ç”¨ npm</span><br/><span class="hl-1">npm</span><span class="hl-2"> </span><span class="hl-3">install</span><span class="hl-2"> </span><span class="hl-3">tree-formatter</span><br/><br/><span class="hl-0"># ä½¿ç”¨ yarn</span><br/><span class="hl-1">yarn</span><span class="hl-2"> </span><span class="hl-3">add</span><span class="hl-2"> </span><span class="hl-3">tree-formatter</span><br/><br/><span class="hl-0"># ä½¿ç”¨ pnpm</span><br/><span class="hl-1">pnpm</span><span class="hl-2"> </span><span class="hl-3">add</span><span class="hl-2"> </span><span class="hl-3">tree-formatter</span>
</code><button type="button">Copy</button></pre>

<h2 id="ğŸš€-å¿«é€Ÿå¼€å§‹" class="tsd-anchor-link">ğŸš€ å¿«é€Ÿå¼€å§‹<a href="#ğŸš€-å¿«é€Ÿå¼€å§‹" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><h3 id="ç®€å•é¡¹ç›®ï¼šå¿«é€Ÿæ„å»ºæ ‘å½¢ç»“æ„" class="tsd-anchor-link">ç®€å•é¡¹ç›®ï¼šå¿«é€Ÿæ„å»ºæ ‘å½¢ç»“æ„<a href="#ç®€å•é¡¹ç›®ï¼šå¿«é€Ÿæ„å»ºæ ‘å½¢ç»“æ„" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-4">import</span><span class="hl-2"> { </span><span class="hl-5">createTree</span><span class="hl-2"> } </span><span class="hl-4">from</span><span class="hl-2"> </span><span class="hl-3">&#39;tree-formatter&#39;</span><span class="hl-2">;</span><br/><br/><span class="hl-6">const</span><span class="hl-2"> </span><span class="hl-7">flatData</span><span class="hl-2"> = [</span><br/><span class="hl-2">  { </span><span class="hl-5">id:</span><span class="hl-2"> </span><span class="hl-8">1</span><span class="hl-2">, </span><span class="hl-5">parentId:</span><span class="hl-2"> </span><span class="hl-6">null</span><span class="hl-2">, </span><span class="hl-5">name:</span><span class="hl-2"> </span><span class="hl-3">&#39;Root&#39;</span><span class="hl-2">, </span><span class="hl-5">order:</span><span class="hl-2"> </span><span class="hl-8">1</span><span class="hl-2"> },</span><br/><span class="hl-2">  { </span><span class="hl-5">id:</span><span class="hl-2"> </span><span class="hl-8">2</span><span class="hl-2">, </span><span class="hl-5">parentId:</span><span class="hl-2"> </span><span class="hl-8">1</span><span class="hl-2">, </span><span class="hl-5">name:</span><span class="hl-2"> </span><span class="hl-3">&#39;Child 1&#39;</span><span class="hl-2">, </span><span class="hl-5">order:</span><span class="hl-2"> </span><span class="hl-8">2</span><span class="hl-2"> },</span><br/><span class="hl-2">  { </span><span class="hl-5">id:</span><span class="hl-2"> </span><span class="hl-8">3</span><span class="hl-2">, </span><span class="hl-5">parentId:</span><span class="hl-2"> </span><span class="hl-8">1</span><span class="hl-2">, </span><span class="hl-5">name:</span><span class="hl-2"> </span><span class="hl-3">&#39;Child 2&#39;</span><span class="hl-2">, </span><span class="hl-5">order:</span><span class="hl-2"> </span><span class="hl-8">3</span><span class="hl-2"> },</span><br/><span class="hl-2">  { </span><span class="hl-5">id:</span><span class="hl-2"> </span><span class="hl-8">4</span><span class="hl-2">, </span><span class="hl-5">parentId:</span><span class="hl-2"> </span><span class="hl-8">2</span><span class="hl-2">, </span><span class="hl-5">name:</span><span class="hl-2"> </span><span class="hl-3">&#39;Grandchild&#39;</span><span class="hl-2">, </span><span class="hl-5">order:</span><span class="hl-2"> </span><span class="hl-8">4</span><span class="hl-2"> }</span><br/><span class="hl-2">];</span><br/><br/><span class="hl-0">// ç®€å•å¿«é€Ÿåœ°æ„å»ºæ ‘</span><br/><span class="hl-6">const</span><span class="hl-2"> </span><span class="hl-7">tree</span><span class="hl-2"> = </span><span class="hl-1">createTree</span><span class="hl-2">(</span><span class="hl-5">flatData</span><span class="hl-2">, {</span><br/><span class="hl-2">  </span><span class="hl-5">idKey:</span><span class="hl-2"> </span><span class="hl-3">&#39;id&#39;</span><span class="hl-2">,</span><br/><span class="hl-2">  </span><span class="hl-5">parentKey:</span><span class="hl-2"> </span><span class="hl-3">&#39;parentId&#39;</span><span class="hl-2">,</span><br/><span class="hl-2">  </span><span class="hl-5">childrenKey:</span><span class="hl-2"> </span><span class="hl-3">&#39;children&#39;</span><br/><span class="hl-2">});</span><br/><br/><span class="hl-5">console</span><span class="hl-2">.</span><span class="hl-1">log</span><span class="hl-2">(</span><span class="hl-7">JSON</span><span class="hl-2">.</span><span class="hl-1">stringify</span><span class="hl-2">(</span><span class="hl-5">tree</span><span class="hl-2">, </span><span class="hl-6">null</span><span class="hl-2">, </span><span class="hl-8">2</span><span class="hl-2">));</span><br/><span class="hl-0">// è¾“å‡ºï¼š</span><br/><span class="hl-0">// [</span><br/><span class="hl-0">//   {</span><br/><span class="hl-0">//     &quot;id&quot;: 1,</span><br/><span class="hl-0">//     &quot;parentId&quot;: null,</span><br/><span class="hl-0">//     &quot;name&quot;: &quot;Root&quot;,</span><br/><span class="hl-0">//     &quot;order&quot;: 1,</span><br/><span class="hl-0">//     &quot;children&quot;: [</span><br/><span class="hl-0">//       {</span><br/><span class="hl-0">//         &quot;id&quot;: 2,</span><br/><span class="hl-0">//         &quot;parentId&quot;: 1,</span><br/><span class="hl-0">//         &quot;name&quot;: &quot;Child 1&quot;,</span><br/><span class="hl-0">//         &quot;order&quot;: 2,</span><br/><span class="hl-0">//         &quot;children&quot;: [</span><br/><span class="hl-0">//           {</span><br/><span class="hl-0">//             &quot;id&quot;: 4,</span><br/><span class="hl-0">//             &quot;parentId&quot;: 2,</span><br/><span class="hl-0">//             &quot;name&quot;: &quot;Grandchild&quot;,</span><br/><span class="hl-0">//             &quot;order&quot;: 4,</span><br/><span class="hl-0">//             &quot;children&quot;: []</span><br/><span class="hl-0">//           }</span><br/><span class="hl-0">//         ]</span><br/><span class="hl-0">//       },</span><br/><span class="hl-0">//       {</span><br/><span class="hl-0">//         &quot;id&quot;: 3,</span><br/><span class="hl-0">//         &quot;parentId&quot;: 1,</span><br/><span class="hl-0">//         &quot;name&quot;: &quot;Child 2&quot;,</span><br/><span class="hl-0">//         &quot;order&quot;: 3,</span><br/><span class="hl-0">//         &quot;children&quot;: []</span><br/><span class="hl-0">//       }</span><br/><span class="hl-0">//     ]</span><br/><span class="hl-0">//   }</span><br/><span class="hl-0">// ]</span>
</code><button type="button">Copy</button></pre>

<h3 id="å¤§å‹é¡¹ç›®ï¼šæŒ‰éœ€å¯¼å…¥ä¼˜åŒ–æ‰“åŒ…ä½“ç§¯" class="tsd-anchor-link">å¤§å‹é¡¹ç›®ï¼šæŒ‰éœ€å¯¼å…¥ä¼˜åŒ–æ‰“åŒ…ä½“ç§¯<a href="#å¤§å‹é¡¹ç›®ï¼šæŒ‰éœ€å¯¼å…¥ä¼˜åŒ–æ‰“åŒ…ä½“ç§¯" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-0">// åªå¯¼å…¥éœ€è¦çš„æ ¸å¿ƒæ¨¡å—ï¼Œæœ€å°åŒ–æ‰“åŒ…ä½“ç§¯</span><br/><span class="hl-4">import</span><span class="hl-2"> { </span><span class="hl-5">buildMinimalTree</span><span class="hl-2"> } </span><span class="hl-4">from</span><span class="hl-2"> </span><span class="hl-3">&#39;tree-formatter/core&#39;</span><span class="hl-2">;</span><br/><span class="hl-4">import</span><span class="hl-2"> { </span><span class="hl-5">buildEnhancedTree</span><span class="hl-2"> } </span><span class="hl-4">from</span><span class="hl-2"> </span><span class="hl-3">&#39;tree-formatter/core&#39;</span><span class="hl-2">;</span><br/><br/><span class="hl-0">// æœ€å°åŒ–æ„å»ºï¼ˆå¯¹æ ‡ row-to-treeï¼Œæ€§èƒ½æœ€ä¼˜ï¼‰</span><br/><span class="hl-6">const</span><span class="hl-2"> </span><span class="hl-7">minimalTree</span><span class="hl-2"> = </span><span class="hl-1">buildMinimalTree</span><span class="hl-2">(</span><span class="hl-5">flatData</span><span class="hl-2">, {</span><br/><span class="hl-2">  </span><span class="hl-5">idKey:</span><span class="hl-2"> </span><span class="hl-3">&#39;id&#39;</span><span class="hl-2">,</span><br/><span class="hl-2">  </span><span class="hl-5">parentKey:</span><span class="hl-2"> </span><span class="hl-3">&#39;parentId&#39;</span><span class="hl-2">,</span><br/><span class="hl-2">  </span><span class="hl-5">childrenKey:</span><span class="hl-2"> </span><span class="hl-3">&#39;children&#39;</span><span class="hl-2">,</span><br/><span class="hl-2">  </span><span class="hl-5">enableGhostNodes:</span><span class="hl-2"> </span><span class="hl-6">false</span><br/><span class="hl-2">});</span><br/><br/><span class="hl-0">// å¢å¼ºæ„å»ºï¼ˆæ”¯æŒå¾ªç¯æ£€æµ‹ã€æ’åºç­‰é«˜çº§åŠŸèƒ½ï¼‰</span><br/><span class="hl-6">const</span><span class="hl-2"> </span><span class="hl-7">enhancedTree</span><span class="hl-2"> = </span><span class="hl-1">buildEnhancedTree</span><span class="hl-2">(</span><span class="hl-5">flatData</span><span class="hl-2">, {</span><br/><span class="hl-2">  </span><span class="hl-5">idKey:</span><span class="hl-2"> </span><span class="hl-3">&#39;id&#39;</span><span class="hl-2">,</span><br/><span class="hl-2">  </span><span class="hl-5">parentKey:</span><span class="hl-2"> </span><span class="hl-3">&#39;parentId&#39;</span><span class="hl-2">,</span><br/><span class="hl-2">  </span><span class="hl-5">detectCycles:</span><span class="hl-2"> </span><span class="hl-6">true</span><span class="hl-2">, </span><span class="hl-0">// å¯ç”¨å¾ªç¯å¼•ç”¨æ£€æµ‹</span><br/><span class="hl-2">  </span><span class="hl-1">sortChildren</span><span class="hl-5">:</span><span class="hl-2"> (</span><span class="hl-5">a</span><span class="hl-2">, </span><span class="hl-5">b</span><span class="hl-2">) </span><span class="hl-6">=&gt;</span><span class="hl-2"> </span><span class="hl-5">a</span><span class="hl-2">.</span><span class="hl-5">order</span><span class="hl-2"> - </span><span class="hl-5">b</span><span class="hl-2">.</span><span class="hl-5">order</span><span class="hl-2"> </span><span class="hl-0">// å­èŠ‚ç‚¹æ’åº</span><br/><span class="hl-2">});</span>
</code><button type="button">Copy</button></pre>

<h3 id="æ’ä»¶åŒ–æ„å»ºï¼šä½¿ç”¨æ„å»ºå™¨æ¨¡å¼" class="tsd-anchor-link">æ’ä»¶åŒ–æ„å»ºï¼šä½¿ç”¨æ„å»ºå™¨æ¨¡å¼<a href="#æ’ä»¶åŒ–æ„å»ºï¼šä½¿ç”¨æ„å»ºå™¨æ¨¡å¼" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-4">import</span><span class="hl-2"> { </span><span class="hl-5">SmartTreeBuilder</span><span class="hl-2"> } </span><span class="hl-4">from</span><span class="hl-2"> </span><span class="hl-3">&#39;tree-formatter/builder&#39;</span><span class="hl-2">;</span><br/><span class="hl-4">import</span><span class="hl-2"> { </span><br/><span class="hl-2">  </span><span class="hl-5">createCycleDetectionPlugin</span><span class="hl-2">,</span><br/><span class="hl-2">  </span><span class="hl-5">createSortingPlugin</span><span class="hl-2">,</span><br/><span class="hl-2">  </span><span class="hl-5">createFormattingPlugin</span><br/><span class="hl-2">} </span><span class="hl-4">from</span><span class="hl-2"> </span><span class="hl-3">&#39;tree-formatter/plugins&#39;</span><span class="hl-2">;</span><br/><br/><span class="hl-0">// åˆ›å»ºæ™ºèƒ½æ„å»ºå™¨</span><br/><span class="hl-6">const</span><span class="hl-2"> </span><span class="hl-7">builder</span><span class="hl-2"> = </span><span class="hl-6">new</span><span class="hl-2"> </span><span class="hl-1">SmartTreeBuilder</span><span class="hl-2">({</span><br/><span class="hl-2">  </span><span class="hl-5">idKey:</span><span class="hl-2"> </span><span class="hl-3">&#39;id&#39;</span><span class="hl-2">,</span><br/><span class="hl-2">  </span><span class="hl-5">parentKey:</span><span class="hl-2"> </span><span class="hl-3">&#39;parentId&#39;</span><span class="hl-2">,</span><br/><span class="hl-2">  </span><span class="hl-5">enableCache:</span><span class="hl-2"> </span><span class="hl-6">true</span><span class="hl-2">, </span><span class="hl-0">// å¯ç”¨ç¼“å­˜æå‡æ€§èƒ½</span><br/><span class="hl-2">  </span><span class="hl-5">maxDepth:</span><span class="hl-2"> </span><span class="hl-8">100</span><span class="hl-2"> </span><span class="hl-0">// é™åˆ¶æœ€å¤§æ·±åº¦</span><br/><span class="hl-2">});</span><br/><br/><span class="hl-0">// æ·»åŠ æ’ä»¶é“¾</span><br/><span class="hl-5">builder</span><br/><span class="hl-2">  .</span><span class="hl-1">use</span><span class="hl-2">(</span><span class="hl-1">createCycleDetectionPlugin</span><span class="hl-2">({ </span><br/><span class="hl-2">    </span><span class="hl-5">fixStrategy:</span><span class="hl-2"> </span><span class="hl-3">&#39;remove&#39;</span><span class="hl-2"> </span><span class="hl-0">// æ£€æµ‹åˆ°å¾ªç¯å¼•ç”¨æ—¶ç§»é™¤é—®é¢˜èŠ‚ç‚¹</span><br/><span class="hl-2">  }))</span><br/><span class="hl-2">  .</span><span class="hl-1">use</span><span class="hl-2">(</span><span class="hl-1">createSortingPlugin</span><span class="hl-2">((</span><span class="hl-5">a</span><span class="hl-2">, </span><span class="hl-5">b</span><span class="hl-2">) </span><span class="hl-6">=&gt;</span><span class="hl-2"> </span><span class="hl-5">a</span><span class="hl-2">.</span><span class="hl-5">order</span><span class="hl-2"> - </span><span class="hl-5">b</span><span class="hl-2">.</span><span class="hl-5">order</span><span class="hl-2">, {</span><br/><span class="hl-2">    </span><span class="hl-5">scope:</span><span class="hl-2"> </span><span class="hl-3">&#39;all&#39;</span><span class="hl-2">, </span><span class="hl-0">// æ’åºæ‰€æœ‰èŠ‚ç‚¹</span><br/><span class="hl-2">    </span><span class="hl-5">recursive:</span><span class="hl-2"> </span><span class="hl-6">true</span><span class="hl-2"> </span><span class="hl-0">// é€’å½’æ’åºå­èŠ‚ç‚¹</span><br/><span class="hl-2">  }))</span><br/><span class="hl-2">  .</span><span class="hl-1">use</span><span class="hl-2">(</span><span class="hl-1">createFormattingPlugin</span><span class="hl-2">((</span><span class="hl-5">node</span><span class="hl-2">, </span><span class="hl-5">context</span><span class="hl-2">) </span><span class="hl-6">=&gt;</span><span class="hl-2"> ({</span><br/><span class="hl-2">    ...</span><span class="hl-5">node</span><span class="hl-2">,</span><br/><span class="hl-2">    </span><span class="hl-5">level:</span><span class="hl-2"> </span><span class="hl-5">context</span><span class="hl-2">.</span><span class="hl-5">level</span><span class="hl-2">,</span><br/><span class="hl-2">    </span><span class="hl-5">path:</span><span class="hl-2"> </span><span class="hl-5">context</span><span class="hl-2">.</span><span class="hl-5">path</span><span class="hl-2">,</span><br/><span class="hl-2">    </span><span class="hl-5">isLeaf:</span><span class="hl-2"> </span><span class="hl-5">context</span><span class="hl-2">.</span><span class="hl-5">isLeaf</span><span class="hl-2">,</span><br/><span class="hl-2">    </span><span class="hl-5">hasChildren:</span><span class="hl-2"> !</span><span class="hl-5">context</span><span class="hl-2">.</span><span class="hl-5">isLeaf</span><br/><span class="hl-2">  })));</span><br/><br/><span class="hl-0">// æ„å»ºæ ‘</span><br/><span class="hl-6">const</span><span class="hl-2"> </span><span class="hl-7">tree</span><span class="hl-2"> = </span><span class="hl-5">builder</span><span class="hl-2">.</span><span class="hl-1">build</span><span class="hl-2">(</span><span class="hl-5">flatData</span><span class="hl-2">);</span><br/><br/><span class="hl-0">// è·å–æ„å»ºç»Ÿè®¡ä¿¡æ¯</span><br/><span class="hl-6">const</span><span class="hl-2"> </span><span class="hl-7">stats</span><span class="hl-2"> = </span><span class="hl-5">builder</span><span class="hl-2">.</span><span class="hl-1">getStats</span><span class="hl-2">();</span><br/><span class="hl-5">console</span><span class="hl-2">.</span><span class="hl-1">log</span><span class="hl-2">(</span><span class="hl-3">`æ„å»ºè€—æ—¶ï¼š</span><span class="hl-6">${</span><span class="hl-5">stats</span><span class="hl-9">[</span><span class="hl-8">0</span><span class="hl-9">].</span><span class="hl-5">buildTime</span><span class="hl-9">.</span><span class="hl-1">toFixed</span><span class="hl-9">(</span><span class="hl-8">2</span><span class="hl-9">)</span><span class="hl-6">}</span><span class="hl-3">ms`</span><span class="hl-2">);</span><br/><span class="hl-5">console</span><span class="hl-2">.</span><span class="hl-1">log</span><span class="hl-2">(</span><span class="hl-3">`èŠ‚ç‚¹æ•°é‡ï¼š</span><span class="hl-6">${</span><span class="hl-5">stats</span><span class="hl-9">[</span><span class="hl-8">0</span><span class="hl-9">].</span><span class="hl-5">totalNodes</span><span class="hl-6">}</span><span class="hl-3">`</span><span class="hl-2">);</span><br/><span class="hl-5">console</span><span class="hl-2">.</span><span class="hl-1">log</span><span class="hl-2">(</span><span class="hl-3">`æœ€å¤§æ·±åº¦ï¼š</span><span class="hl-6">${</span><span class="hl-5">stats</span><span class="hl-9">[</span><span class="hl-8">0</span><span class="hl-9">].</span><span class="hl-5">maxDepth</span><span class="hl-6">}</span><span class="hl-3">`</span><span class="hl-2">);</span>
</code><button type="button">Copy</button></pre>

<h3 id="å®Œæ•´ç±»å‹å¯¼å‡ºï¼štypescriptå‹å¥½" class="tsd-anchor-link">å®Œæ•´ç±»å‹å¯¼å‡ºï¼šTypeScriptå‹å¥½<a href="#å®Œæ•´ç±»å‹å¯¼å‡ºï¼štypescriptå‹å¥½" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-4">import</span><span class="hl-2"> { </span><br/><span class="hl-2">  </span><span class="hl-0">// æ ¸å¿ƒæ„å»ºå‡½æ•°</span><br/><span class="hl-2">  </span><span class="hl-5">buildMinimalTree</span><span class="hl-2">,</span><br/><span class="hl-2">  </span><span class="hl-5">buildEnhancedTree</span><span class="hl-2">,</span><br/><span class="hl-2">  </span><br/><span class="hl-2">  </span><span class="hl-0">// æ™ºèƒ½æ„å»ºå™¨</span><br/><span class="hl-2">  </span><span class="hl-5">SmartTreeBuilder</span><span class="hl-2">,</span><br/><span class="hl-2">  </span><br/><span class="hl-2">  </span><span class="hl-0">// æ’ä»¶</span><br/><span class="hl-2">  </span><span class="hl-5">createCycleDetectionPlugin</span><span class="hl-2">,</span><br/><span class="hl-2">  </span><span class="hl-5">createSortingPlugin</span><span class="hl-2">,</span><br/><span class="hl-2">  </span><span class="hl-5">createFormattingPlugin</span><span class="hl-2">,</span><br/><span class="hl-2">  </span><br/><span class="hl-2">  </span><span class="hl-0">// ç±»å‹å®šä¹‰</span><br/><span class="hl-2">  </span><span class="hl-5">TreeBuilderConfig</span><span class="hl-2">,</span><br/><span class="hl-2">  </span><span class="hl-5">EnhancedTreeConfig</span><span class="hl-2">,</span><br/><span class="hl-2">  </span><span class="hl-5">NodeContext</span><span class="hl-2">,</span><br/><span class="hl-2">  </span><span class="hl-5">BuildStats</span><span class="hl-2">,</span><br/><span class="hl-2">  </span><span class="hl-5">TreePlugin</span><br/><span class="hl-2">} </span><span class="hl-4">from</span><span class="hl-2"> </span><span class="hl-3">&#39;tree-formatter&#39;</span><span class="hl-2">;</span><br/><br/><span class="hl-0">// ä½¿ç”¨å®Œæ•´ç±»å‹æç¤º</span><br/><span class="hl-6">const</span><span class="hl-2"> </span><span class="hl-7">config</span><span class="hl-2">: </span><span class="hl-10">EnhancedTreeConfig</span><span class="hl-2"> = {</span><br/><span class="hl-2">  </span><span class="hl-5">idKey:</span><span class="hl-2"> </span><span class="hl-3">&#39;id&#39;</span><span class="hl-2">,</span><br/><span class="hl-2">  </span><span class="hl-5">parentKey:</span><span class="hl-2"> </span><span class="hl-3">&#39;parentId&#39;</span><span class="hl-2">,</span><br/><span class="hl-2">  </span><span class="hl-5">detectCycles:</span><span class="hl-2"> </span><span class="hl-6">true</span><span class="hl-2">,</span><br/><span class="hl-2">  </span><span class="hl-1">sortChildren</span><span class="hl-5">:</span><span class="hl-2"> (</span><span class="hl-5">a</span><span class="hl-2">, </span><span class="hl-5">b</span><span class="hl-2">) </span><span class="hl-6">=&gt;</span><span class="hl-2"> </span><span class="hl-5">a</span><span class="hl-2">.</span><span class="hl-5">order</span><span class="hl-2"> - </span><span class="hl-5">b</span><span class="hl-2">.</span><span class="hl-5">order</span><br/><span class="hl-2">};</span><br/><br/><span class="hl-6">const</span><span class="hl-2"> </span><span class="hl-7">tree</span><span class="hl-2"> = </span><span class="hl-1">buildEnhancedTree</span><span class="hl-2">(</span><span class="hl-5">flatData</span><span class="hl-2">, </span><span class="hl-5">config</span><span class="hl-2">);</span>
</code><button type="button">Copy</button></pre>

<h2 id="ğŸ“š-è¯¦ç»†ä½¿ç”¨æŒ‡å—" class="tsd-anchor-link">ğŸ“š è¯¦ç»†ä½¿ç”¨æŒ‡å—<a href="#ğŸ“š-è¯¦ç»†ä½¿ç”¨æŒ‡å—" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><h3 id="1-æ ¸å¿ƒæ„å»ºå‡½æ•°" class="tsd-anchor-link">1. æ ¸å¿ƒæ„å»ºå‡½æ•°<a href="#1-æ ¸å¿ƒæ„å»ºå‡½æ•°" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><h4 id="-æœ€å°åŒ–æ„å»ºï¼ˆå¯¹æ ‡-row-to-treeï¼‰" class="tsd-anchor-link"><code>buildMinimalTree</code> - æœ€å°åŒ–æ„å»ºï¼ˆå¯¹æ ‡ row-to-treeï¼‰<a href="#-æœ€å°åŒ–æ„å»ºï¼ˆå¯¹æ ‡-row-to-treeï¼‰" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="typescript"><span class="hl-4">import</span><span class="hl-2"> { </span><span class="hl-5">buildMinimalTree</span><span class="hl-2"> } </span><span class="hl-4">from</span><span class="hl-2"> </span><span class="hl-3">&#39;tree-formatter/core&#39;</span><span class="hl-2">;</span><br/><br/><span class="hl-6">const</span><span class="hl-2"> </span><span class="hl-7">tree</span><span class="hl-2"> = </span><span class="hl-1">buildMinimalTree</span><span class="hl-2">(</span><span class="hl-5">flatData</span><span class="hl-2">, {</span><br/><span class="hl-2">  </span><span class="hl-5">idKey:</span><span class="hl-2"> </span><span class="hl-3">&#39;id&#39;</span><span class="hl-2">,           </span><span class="hl-0">// èŠ‚ç‚¹IDå­—æ®µï¼Œé»˜è®¤ &#39;id&#39;</span><br/><span class="hl-2">  </span><span class="hl-5">parentKey:</span><span class="hl-2"> </span><span class="hl-3">&#39;parentId&#39;</span><span class="hl-2">, </span><span class="hl-0">// çˆ¶èŠ‚ç‚¹IDå­—æ®µï¼Œé»˜è®¤ &#39;parentId&#39;</span><br/><span class="hl-2">  </span><span class="hl-5">childrenKey:</span><span class="hl-2"> </span><span class="hl-3">&#39;children&#39;</span><span class="hl-2">, </span><span class="hl-0">// å­èŠ‚ç‚¹å­—æ®µï¼Œé»˜è®¤ &#39;children&#39;</span><br/><span class="hl-2">  </span><span class="hl-5">rootParentId:</span><span class="hl-2"> </span><span class="hl-8">0</span><span class="hl-2">,       </span><span class="hl-0">// æ ¹èŠ‚ç‚¹çš„çˆ¶IDå€¼ï¼Œé»˜è®¤ 0</span><br/><span class="hl-2">  </span><span class="hl-5">enableGhostNodes:</span><span class="hl-2"> </span><span class="hl-6">false</span><span class="hl-2">, </span><span class="hl-0">// æ˜¯å¦å…è®¸å¹½çµèŠ‚ç‚¹ï¼Œé»˜è®¤ false</span><br/><span class="hl-2">  </span><span class="hl-5">validateNodes:</span><span class="hl-2"> </span><span class="hl-6">true</span><span class="hl-2">,   </span><span class="hl-0">// æ˜¯å¦éªŒè¯èŠ‚ç‚¹æ•°æ®ï¼Œé»˜è®¤ true</span><br/><span class="hl-2">  </span><span class="hl-5">maxDepth:</span><span class="hl-2"> </span><span class="hl-8">1000</span><span class="hl-2">         </span><span class="hl-0">// æœ€å¤§æ ‘æ·±åº¦ï¼Œé»˜è®¤ 1000</span><br/><span class="hl-2">});</span>
</code><button type="button">Copy</button></pre>

<h4 id="-å¢å¼ºæ„å»ºï¼ˆæ”¯æŒé«˜çº§åŠŸèƒ½ï¼‰" class="tsd-anchor-link"><code>buildEnhancedTree</code> - å¢å¼ºæ„å»ºï¼ˆæ”¯æŒé«˜çº§åŠŸèƒ½ï¼‰<a href="#-å¢å¼ºæ„å»ºï¼ˆæ”¯æŒé«˜çº§åŠŸèƒ½ï¼‰" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="typescript"><span class="hl-4">import</span><span class="hl-2"> { </span><span class="hl-5">buildEnhancedTree</span><span class="hl-2"> } </span><span class="hl-4">from</span><span class="hl-2"> </span><span class="hl-3">&#39;tree-formatter/core&#39;</span><span class="hl-2">;</span><br/><br/><span class="hl-6">const</span><span class="hl-2"> </span><span class="hl-7">tree</span><span class="hl-2"> = </span><span class="hl-1">buildEnhancedTree</span><span class="hl-2">(</span><span class="hl-5">flatData</span><span class="hl-2">, {</span><br/><span class="hl-2">  </span><span class="hl-0">// åŸºç¡€é…ç½®</span><br/><span class="hl-2">  </span><span class="hl-5">idKey:</span><span class="hl-2"> </span><span class="hl-3">&#39;id&#39;</span><span class="hl-2">,</span><br/><span class="hl-2">  </span><span class="hl-5">parentKey:</span><span class="hl-2"> </span><span class="hl-3">&#39;parentId&#39;</span><span class="hl-2">,</span><br/><span class="hl-2">  </span><span class="hl-5">childrenKey:</span><span class="hl-2"> </span><span class="hl-3">&#39;children&#39;</span><span class="hl-2">,</span><br/><span class="hl-2">  </span><br/><span class="hl-2">  </span><span class="hl-0">// é«˜çº§åŠŸèƒ½</span><br/><span class="hl-2">  </span><span class="hl-5">detectCycles:</span><span class="hl-2"> </span><span class="hl-6">true</span><span class="hl-2">, </span><span class="hl-0">// å¾ªç¯å¼•ç”¨æ£€æµ‹</span><br/><span class="hl-2">  </span><span class="hl-1">onCycleDetected</span><span class="hl-5">:</span><span class="hl-2"> (</span><span class="hl-5">node</span><span class="hl-2">, </span><span class="hl-5">path</span><span class="hl-2">) </span><span class="hl-6">=&gt;</span><span class="hl-2"> {</span><br/><span class="hl-2">    </span><span class="hl-5">console</span><span class="hl-2">.</span><span class="hl-1">warn</span><span class="hl-2">(</span><span class="hl-3">`æ£€æµ‹åˆ°å¾ªç¯å¼•ç”¨ï¼š</span><span class="hl-6">${</span><span class="hl-5">path</span><span class="hl-9">.</span><span class="hl-1">join</span><span class="hl-9">(</span><span class="hl-3">&#39; -&gt; &#39;</span><span class="hl-9">)</span><span class="hl-6">}</span><span class="hl-3">`</span><span class="hl-2">);</span><br/><span class="hl-2">  },</span><br/><span class="hl-2">  </span><span class="hl-1">sortChildren</span><span class="hl-5">:</span><span class="hl-2"> (</span><span class="hl-5">a</span><span class="hl-2">, </span><span class="hl-5">b</span><span class="hl-2">) </span><span class="hl-6">=&gt;</span><span class="hl-2"> </span><span class="hl-5">a</span><span class="hl-2">.</span><span class="hl-5">order</span><span class="hl-2"> - </span><span class="hl-5">b</span><span class="hl-2">.</span><span class="hl-5">order</span><span class="hl-2">, </span><span class="hl-0">// å­èŠ‚ç‚¹æ’åº</span><br/><span class="hl-2">  </span><span class="hl-1">formatNode</span><span class="hl-5">:</span><span class="hl-2"> (</span><span class="hl-5">node</span><span class="hl-2">, </span><span class="hl-5">context</span><span class="hl-2">) </span><span class="hl-6">=&gt;</span><span class="hl-2"> ({</span><br/><span class="hl-2">    ...</span><span class="hl-5">node</span><span class="hl-2">,</span><br/><span class="hl-2">    </span><span class="hl-5">level:</span><span class="hl-2"> </span><span class="hl-5">context</span><span class="hl-2">.</span><span class="hl-5">level</span><span class="hl-2">,</span><br/><span class="hl-2">    </span><span class="hl-5">path:</span><span class="hl-2"> </span><span class="hl-5">context</span><span class="hl-2">.</span><span class="hl-5">path</span><br/><span class="hl-2">  }), </span><span class="hl-0">// èŠ‚ç‚¹æ ¼å¼åŒ–</span><br/><span class="hl-2">  </span><span class="hl-1">isRootNode</span><span class="hl-5">:</span><span class="hl-2"> (</span><span class="hl-5">node</span><span class="hl-2">) </span><span class="hl-6">=&gt;</span><span class="hl-2"> </span><span class="hl-5">node</span><span class="hl-2">.</span><span class="hl-5">type</span><span class="hl-2"> === </span><span class="hl-3">&#39;root&#39;</span><span class="hl-2">, </span><span class="hl-0">// è‡ªå®šä¹‰æ ¹èŠ‚ç‚¹åˆ¤æ–­</span><br/><span class="hl-2">  </span><span class="hl-5">maxDepth:</span><span class="hl-2"> </span><span class="hl-8">50</span><span class="hl-2"> </span><span class="hl-0">// é™åˆ¶æ·±åº¦</span><br/><span class="hl-2">}, </span><br/><span class="hl-0">// å¯é€‰ï¼šæ ¼å¼åŒ–å›è°ƒï¼ˆä¼˜å…ˆçº§é«˜äºformatNodeï¼‰</span><br/><span class="hl-2">(</span><span class="hl-5">node</span><span class="hl-2">, </span><span class="hl-5">context</span><span class="hl-2">) </span><span class="hl-6">=&gt;</span><span class="hl-2"> ({</span><br/><span class="hl-2">  ...</span><span class="hl-5">node</span><span class="hl-2">,</span><br/><span class="hl-2">  </span><span class="hl-5">customField:</span><span class="hl-2"> </span><span class="hl-3">`Level </span><span class="hl-6">${</span><span class="hl-5">context</span><span class="hl-9">.</span><span class="hl-5">level</span><span class="hl-6">}</span><span class="hl-3">`</span><br/><span class="hl-2">}));</span>
</code><button type="button">Copy</button></pre>

<h3 id="2-æ™ºèƒ½æ„å»ºå™¨ï¼ˆsmarttreebuilderï¼‰" class="tsd-anchor-link">2. æ™ºèƒ½æ„å»ºå™¨ï¼ˆSmartTreeBuilderï¼‰<a href="#2-æ™ºèƒ½æ„å»ºå™¨ï¼ˆsmarttreebuilderï¼‰" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-4">import</span><span class="hl-2"> { </span><span class="hl-5">SmartTreeBuilder</span><span class="hl-2"> } </span><span class="hl-4">from</span><span class="hl-2"> </span><span class="hl-3">&#39;tree-formatter/builder&#39;</span><span class="hl-2">;</span><br/><br/><span class="hl-6">const</span><span class="hl-2"> </span><span class="hl-7">builder</span><span class="hl-2"> = </span><span class="hl-6">new</span><span class="hl-2"> </span><span class="hl-1">SmartTreeBuilder</span><span class="hl-2">({</span><br/><span class="hl-2">  </span><span class="hl-0">// åŸºç¡€é…ç½®</span><br/><span class="hl-2">  </span><span class="hl-5">idKey:</span><span class="hl-2"> </span><span class="hl-3">&#39;id&#39;</span><span class="hl-2">,</span><br/><span class="hl-2">  </span><span class="hl-5">parentKey:</span><span class="hl-2"> </span><span class="hl-3">&#39;parentId&#39;</span><span class="hl-2">,</span><br/><span class="hl-2">  </span><span class="hl-5">childrenKey:</span><span class="hl-2"> </span><span class="hl-3">&#39;children&#39;</span><span class="hl-2">,</span><br/><span class="hl-2">  </span><br/><span class="hl-2">  </span><span class="hl-0">// æ€§èƒ½ä¼˜åŒ–</span><br/><span class="hl-2">  </span><span class="hl-5">enableCache:</span><span class="hl-2"> </span><span class="hl-6">true</span><span class="hl-2">, </span><span class="hl-0">// å¯ç”¨ç¼“å­˜</span><br/><span class="hl-2">  </span><span class="hl-5">maxDepth:</span><span class="hl-2"> </span><span class="hl-8">100</span><span class="hl-2">,</span><br/><span class="hl-2">  </span><br/><span class="hl-2">  </span><span class="hl-0">// æ„å»ºç­–ç•¥</span><br/><span class="hl-2">  </span><span class="hl-5">enableGhostNodes:</span><span class="hl-2"> </span><span class="hl-6">false</span><br/><span class="hl-2">});</span><br/><br/><span class="hl-0">// æ„å»ºæ ‘</span><br/><span class="hl-6">const</span><span class="hl-2"> </span><span class="hl-7">tree</span><span class="hl-2"> = </span><span class="hl-5">builder</span><span class="hl-2">.</span><span class="hl-1">build</span><span class="hl-2">(</span><span class="hl-5">flatData</span><span class="hl-2">);</span><br/><br/><span class="hl-0">// è·å–ç»Ÿè®¡ä¿¡æ¯</span><br/><span class="hl-6">const</span><span class="hl-2"> </span><span class="hl-7">stats</span><span class="hl-2"> = </span><span class="hl-5">builder</span><span class="hl-2">.</span><span class="hl-1">getStats</span><span class="hl-2">();</span><br/><br/><span class="hl-0">// æ¸…é™¤ç¼“å­˜</span><br/><span class="hl-5">builder</span><span class="hl-2">.</span><span class="hl-1">clearCache</span><span class="hl-2">();</span><br/><br/><span class="hl-0">// é‡ç½®æ„å»ºå™¨çŠ¶æ€</span><br/><span class="hl-5">builder</span><span class="hl-2">.</span><span class="hl-1">reset</span><span class="hl-2">();</span>
</code><button type="button">Copy</button></pre>

<h3 id="3-æ’ä»¶ç³»ç»Ÿ" class="tsd-anchor-link">3. æ’ä»¶ç³»ç»Ÿ<a href="#3-æ’ä»¶ç³»ç»Ÿ" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><h4 id="å¾ªç¯å¼•ç”¨æ£€æµ‹æ’ä»¶" class="tsd-anchor-link">å¾ªç¯å¼•ç”¨æ£€æµ‹æ’ä»¶<a href="#å¾ªç¯å¼•ç”¨æ£€æµ‹æ’ä»¶" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="typescript"><span class="hl-4">import</span><span class="hl-2"> { </span><span class="hl-5">createCycleDetectionPlugin</span><span class="hl-2"> } </span><span class="hl-4">from</span><span class="hl-2"> </span><span class="hl-3">&#39;tree-formatter/plugins&#39;</span><span class="hl-2">;</span><br/><br/><span class="hl-6">const</span><span class="hl-2"> </span><span class="hl-7">cyclePlugin</span><span class="hl-2"> = </span><span class="hl-1">createCycleDetectionPlugin</span><span class="hl-2">({</span><br/><span class="hl-2">  </span><span class="hl-5">throwOnCycle:</span><span class="hl-2"> </span><span class="hl-6">false</span><span class="hl-2">, </span><span class="hl-0">// æ˜¯å¦æŠ›å‡ºé”™è¯¯ï¼Œé»˜è®¤ false</span><br/><span class="hl-2">  </span><span class="hl-5">fixStrategy:</span><span class="hl-2"> </span><span class="hl-3">&#39;remove&#39;</span><span class="hl-2"> </span><span class="hl-0">// ä¿®å¤ç­–ç•¥ï¼š&#39;remove&#39; | &#39;break&#39; | &#39;ignore&#39;</span><br/><span class="hl-2">});</span>
</code><button type="button">Copy</button></pre>

<h4 id="æ’åºæ’ä»¶" class="tsd-anchor-link">æ’åºæ’ä»¶<a href="#æ’åºæ’ä»¶" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="typescript"><span class="hl-4">import</span><span class="hl-2"> { </span><span class="hl-5">createSortingPlugin</span><span class="hl-2">, </span><span class="hl-5">createMultiLevelSorting</span><span class="hl-2"> } </span><span class="hl-4">from</span><span class="hl-2"> </span><span class="hl-3">&#39;tree-formatter/plugins&#39;</span><span class="hl-2">;</span><br/><br/><span class="hl-0">// ç®€å•æ’åº</span><br/><span class="hl-6">const</span><span class="hl-2"> </span><span class="hl-7">simpleSortPlugin</span><span class="hl-2"> = </span><span class="hl-1">createSortingPlugin</span><span class="hl-2">(</span><br/><span class="hl-2">  (</span><span class="hl-5">a</span><span class="hl-2">, </span><span class="hl-5">b</span><span class="hl-2">) </span><span class="hl-6">=&gt;</span><span class="hl-2"> </span><span class="hl-5">a</span><span class="hl-2">.</span><span class="hl-5">order</span><span class="hl-2"> - </span><span class="hl-5">b</span><span class="hl-2">.</span><span class="hl-5">order</span><span class="hl-2">,</span><br/><span class="hl-2">  {</span><br/><span class="hl-2">    </span><span class="hl-5">scope:</span><span class="hl-2"> </span><span class="hl-3">&#39;all&#39;</span><span class="hl-2">, </span><span class="hl-0">// &#39;all&#39; | &#39;root&#39; | &#39;children&#39;</span><br/><span class="hl-2">    </span><span class="hl-5">recursive:</span><span class="hl-2"> </span><span class="hl-6">true</span><span class="hl-2">,</span><br/><span class="hl-2">    </span><span class="hl-5">timing:</span><span class="hl-2"> </span><span class="hl-3">&#39;after&#39;</span><span class="hl-2"> </span><span class="hl-0">// &#39;during&#39; | &#39;after&#39;</span><br/><span class="hl-2">  }</span><br/><span class="hl-2">);</span><br/><br/><span class="hl-0">// å¤šçº§æ’åº</span><br/><span class="hl-6">const</span><span class="hl-2"> </span><span class="hl-7">multiSortPlugin</span><span class="hl-2"> = </span><span class="hl-1">createMultiLevelSorting</span><span class="hl-2">([</span><br/><span class="hl-2">  { </span><span class="hl-5">key:</span><span class="hl-2"> </span><span class="hl-3">&#39;type&#39;</span><span class="hl-2">, </span><span class="hl-5">order:</span><span class="hl-2"> </span><span class="hl-3">&#39;asc&#39;</span><span class="hl-2">, </span><span class="hl-5">type:</span><span class="hl-2"> </span><span class="hl-3">&#39;string&#39;</span><span class="hl-2"> },</span><br/><span class="hl-2">  { </span><span class="hl-5">key:</span><span class="hl-2"> </span><span class="hl-3">&#39;order&#39;</span><span class="hl-2">, </span><span class="hl-5">order:</span><span class="hl-2"> </span><span class="hl-3">&#39;asc&#39;</span><span class="hl-2">, </span><span class="hl-5">type:</span><span class="hl-2"> </span><span class="hl-3">&#39;number&#39;</span><span class="hl-2"> },</span><br/><span class="hl-2">  { </span><span class="hl-5">key:</span><span class="hl-2"> </span><span class="hl-3">&#39;createdAt&#39;</span><span class="hl-2">, </span><span class="hl-5">order:</span><span class="hl-2"> </span><span class="hl-3">&#39;desc&#39;</span><span class="hl-2">, </span><span class="hl-5">type:</span><span class="hl-2"> </span><span class="hl-3">&#39;date&#39;</span><span class="hl-2"> }</span><br/><span class="hl-2">]);</span>
</code><button type="button">Copy</button></pre>

<h4 id="æ ¼å¼åŒ–æ’ä»¶" class="tsd-anchor-link">æ ¼å¼åŒ–æ’ä»¶<a href="#æ ¼å¼åŒ–æ’ä»¶" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="typescript"><span class="hl-4">import</span><span class="hl-2"> { </span><span class="hl-5">createFormattingPlugin</span><span class="hl-2">, </span><span class="hl-5">createFieldMapperPlugin</span><span class="hl-2"> } </span><span class="hl-4">from</span><span class="hl-2"> </span><span class="hl-3">&#39;tree-formatter/plugins&#39;</span><span class="hl-2">;</span><br/><br/><span class="hl-0">// è‡ªå®šä¹‰æ ¼å¼åŒ–</span><br/><span class="hl-6">const</span><span class="hl-2"> </span><span class="hl-7">formatPlugin</span><span class="hl-2"> = </span><span class="hl-1">createFormattingPlugin</span><span class="hl-2">(</span><br/><span class="hl-2">  (</span><span class="hl-5">node</span><span class="hl-2">, </span><span class="hl-5">context</span><span class="hl-2">) </span><span class="hl-6">=&gt;</span><span class="hl-2"> ({</span><br/><span class="hl-2">    ...</span><span class="hl-5">node</span><span class="hl-2">,</span><br/><span class="hl-2">    </span><span class="hl-5">level:</span><span class="hl-2"> </span><span class="hl-5">context</span><span class="hl-2">.</span><span class="hl-5">level</span><span class="hl-2">,</span><br/><span class="hl-2">    </span><span class="hl-5">isLeaf:</span><span class="hl-2"> </span><span class="hl-5">context</span><span class="hl-2">.</span><span class="hl-5">isLeaf</span><span class="hl-2">,</span><br/><span class="hl-2">    </span><span class="hl-5">childCount:</span><span class="hl-2"> </span><span class="hl-5">context</span><span class="hl-2">.</span><span class="hl-5">childCount</span><br/><span class="hl-2">  }),</span><br/><span class="hl-2">  {</span><br/><span class="hl-2">    </span><span class="hl-5">timing:</span><span class="hl-2"> </span><span class="hl-3">&#39;both&#39;</span><span class="hl-2">, </span><span class="hl-0">// &#39;before&#39; | &#39;after&#39; | &#39;both&#39;</span><br/><span class="hl-2">    </span><span class="hl-5">formatChildren:</span><span class="hl-2"> </span><span class="hl-6">true</span><br/><span class="hl-2">  }</span><br/><span class="hl-2">);</span><br/><br/><span class="hl-0">// å­—æ®µæ˜ å°„</span><br/><span class="hl-6">const</span><span class="hl-2"> </span><span class="hl-7">fieldMapperPlugin</span><span class="hl-2"> = </span><span class="hl-1">createFieldMapperPlugin</span><span class="hl-2">(</span><br/><span class="hl-2">  {</span><br/><span class="hl-2">    </span><span class="hl-5">title:</span><span class="hl-2"> </span><span class="hl-3">&#39;name&#39;</span><span class="hl-2">, </span><span class="hl-0">// å°† name å­—æ®µæ˜ å°„ä¸º title</span><br/><span class="hl-2">    </span><span class="hl-5">value:</span><span class="hl-2"> </span><span class="hl-3">&#39;id&#39;</span><span class="hl-2">,   </span><span class="hl-0">// å°† id å­—æ®µæ˜ å°„ä¸º value</span><br/><span class="hl-2">    </span><span class="hl-1">fullPath</span><span class="hl-5">:</span><span class="hl-2"> (</span><span class="hl-5">node</span><span class="hl-2">) </span><span class="hl-6">=&gt;</span><span class="hl-2"> </span><span class="hl-5">node</span><span class="hl-2">.</span><span class="hl-5">path</span><span class="hl-2">?.</span><span class="hl-1">join</span><span class="hl-2">(</span><span class="hl-3">&#39;/&#39;</span><span class="hl-2">) </span><span class="hl-0">// è‡ªå®šä¹‰è®¡ç®—å­—æ®µ</span><br/><span class="hl-2">  },</span><br/><span class="hl-2">  {</span><br/><span class="hl-2">    </span><span class="hl-5">deleteOriginalFields:</span><span class="hl-2"> </span><span class="hl-6">false</span><span class="hl-2"> </span><span class="hl-0">// æ˜¯å¦åˆ é™¤åŸå§‹å­—æ®µ</span><br/><span class="hl-2">  }</span><br/><span class="hl-2">);</span>
</code><button type="button">Copy</button></pre>

<h3 id="4-å·¥å…·å‡½æ•°" class="tsd-anchor-link">4. å·¥å…·å‡½æ•°<a href="#4-å·¥å…·å‡½æ•°" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-4">import</span><span class="hl-2"> { </span><br/><span class="hl-2">  </span><span class="hl-5">validateTreeStructure</span><span class="hl-2">,</span><br/><span class="hl-2">  </span><span class="hl-5">validateFlatData</span><span class="hl-2">,</span><br/><span class="hl-2">  </span><span class="hl-5">findNodeInTree</span><span class="hl-2">,</span><br/><span class="hl-2">  </span><span class="hl-5">flattenTree</span><span class="hl-2">,</span><br/><span class="hl-2">  </span><span class="hl-5">getTreeHeight</span><span class="hl-2">,</span><br/><span class="hl-2">  </span><span class="hl-5">getTreeNodeCount</span><br/><span class="hl-2">} </span><span class="hl-4">from</span><span class="hl-2"> </span><span class="hl-3">&#39;tree-formatter/utils&#39;</span><span class="hl-2">;</span><br/><br/><span class="hl-0">// éªŒè¯æ ‘ç»“æ„</span><br/><span class="hl-6">const</span><span class="hl-2"> </span><span class="hl-7">validation</span><span class="hl-2"> = </span><span class="hl-1">validateTreeStructure</span><span class="hl-2">(</span><span class="hl-5">tree</span><span class="hl-2">, {</span><br/><span class="hl-2">  </span><span class="hl-5">idKey:</span><span class="hl-2"> </span><span class="hl-3">&#39;id&#39;</span><span class="hl-2">,</span><br/><span class="hl-2">  </span><span class="hl-5">childrenKey:</span><span class="hl-2"> </span><span class="hl-3">&#39;children&#39;</span><span class="hl-2">,</span><br/><span class="hl-2">  </span><span class="hl-5">maxDepth:</span><span class="hl-2"> </span><span class="hl-8">100</span><br/><span class="hl-2">});</span><br/><br/><span class="hl-4">if</span><span class="hl-2"> (</span><span class="hl-5">validation</span><span class="hl-2">.</span><span class="hl-5">isValid</span><span class="hl-2">) {</span><br/><span class="hl-2">  </span><span class="hl-5">console</span><span class="hl-2">.</span><span class="hl-1">log</span><span class="hl-2">(</span><span class="hl-3">&#39;æ ‘ç»“æ„éªŒè¯é€šè¿‡&#39;</span><span class="hl-2">);</span><br/><span class="hl-2">} </span><span class="hl-4">else</span><span class="hl-2"> {</span><br/><span class="hl-2">  </span><span class="hl-5">console</span><span class="hl-2">.</span><span class="hl-1">error</span><span class="hl-2">(</span><span class="hl-3">&#39;éªŒè¯é”™è¯¯:&#39;</span><span class="hl-2">, </span><span class="hl-5">validation</span><span class="hl-2">.</span><span class="hl-5">errors</span><span class="hl-2">);</span><br/><span class="hl-2">}</span><br/><br/><span class="hl-0">// éªŒè¯æ‰å¹³æ•°æ®</span><br/><span class="hl-6">const</span><span class="hl-2"> </span><span class="hl-7">flatValidation</span><span class="hl-2"> = </span><span class="hl-1">validateFlatData</span><span class="hl-2">(</span><span class="hl-5">flatData</span><span class="hl-2">, {</span><br/><span class="hl-2">  </span><span class="hl-5">idKey:</span><span class="hl-2"> </span><span class="hl-3">&#39;id&#39;</span><span class="hl-2">,</span><br/><span class="hl-2">  </span><span class="hl-5">parentKey:</span><span class="hl-2"> </span><span class="hl-3">&#39;parentId&#39;</span><span class="hl-2">,</span><br/><span class="hl-2">  </span><span class="hl-5">enableGhostNodes:</span><span class="hl-2"> </span><span class="hl-6">false</span><br/><span class="hl-2">});</span><br/><br/><span class="hl-0">// åœ¨æ ‘ä¸­æŸ¥æ‰¾èŠ‚ç‚¹</span><br/><span class="hl-6">const</span><span class="hl-2"> </span><span class="hl-7">foundNode</span><span class="hl-2"> = </span><span class="hl-1">findNodeInTree</span><span class="hl-2">(</span><span class="hl-5">tree</span><span class="hl-2">, </span><br/><span class="hl-2">  </span><span class="hl-5">node</span><span class="hl-2"> </span><span class="hl-6">=&gt;</span><span class="hl-2"> </span><span class="hl-5">node</span><span class="hl-2">.</span><span class="hl-5">id</span><span class="hl-2"> === </span><span class="hl-8">2</span><span class="hl-2">,</span><br/><span class="hl-2">  { </span><span class="hl-5">childrenKey:</span><span class="hl-2"> </span><span class="hl-3">&#39;children&#39;</span><span class="hl-2"> }</span><br/><span class="hl-2">);</span><br/><br/><span class="hl-0">// æ‰å¹³åŒ–æ ‘</span><br/><span class="hl-6">const</span><span class="hl-2"> </span><span class="hl-7">flattened</span><span class="hl-2"> = </span><span class="hl-1">flattenTree</span><span class="hl-2">(</span><span class="hl-5">tree</span><span class="hl-2">, {</span><br/><span class="hl-2">  </span><span class="hl-5">idKey:</span><span class="hl-2"> </span><span class="hl-3">&#39;id&#39;</span><span class="hl-2">,</span><br/><span class="hl-2">  </span><span class="hl-5">parentKey:</span><span class="hl-2"> </span><span class="hl-3">&#39;parentId&#39;</span><span class="hl-2">,</span><br/><span class="hl-2">  </span><span class="hl-5">childrenKey:</span><span class="hl-2"> </span><span class="hl-3">&#39;children&#39;</span><br/><span class="hl-2">});</span><br/><br/><span class="hl-0">// è·å–æ ‘çš„é«˜åº¦å’ŒèŠ‚ç‚¹æ•°</span><br/><span class="hl-6">const</span><span class="hl-2"> </span><span class="hl-7">height</span><span class="hl-2"> = </span><span class="hl-1">getTreeHeight</span><span class="hl-2">(</span><span class="hl-5">tree</span><span class="hl-2">);</span><br/><span class="hl-6">const</span><span class="hl-2"> </span><span class="hl-7">nodeCount</span><span class="hl-2"> = </span><span class="hl-1">getTreeNodeCount</span><span class="hl-2">(</span><span class="hl-5">tree</span><span class="hl-2">);</span>
</code><button type="button">Copy</button></pre>

<h3 id="5-æ€§èƒ½ä¼˜åŒ–" class="tsd-anchor-link">5. æ€§èƒ½ä¼˜åŒ–<a href="#5-æ€§èƒ½ä¼˜åŒ–" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><h4 id="å¯¹è±¡æ± ï¼ˆå‡å°‘å†…å­˜åˆ†é…ï¼‰" class="tsd-anchor-link">å¯¹è±¡æ± ï¼ˆå‡å°‘å†…å­˜åˆ†é…ï¼‰<a href="#å¯¹è±¡æ± ï¼ˆå‡å°‘å†…å­˜åˆ†é…ï¼‰" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="typescript"><span class="hl-4">import</span><span class="hl-2"> { </span><span class="hl-5">NodeObjectPool</span><span class="hl-2"> } </span><span class="hl-4">from</span><span class="hl-2"> </span><span class="hl-3">&#39;tree-formatter/utils&#39;</span><span class="hl-2">;</span><br/><br/><span class="hl-6">const</span><span class="hl-2"> </span><span class="hl-7">pool</span><span class="hl-2"> = </span><span class="hl-5">NodeObjectPool</span><span class="hl-2">.</span><span class="hl-1">getInstance</span><span class="hl-2">();</span><br/><br/><span class="hl-0">// ä»æ± ä¸­è·å–èŠ‚ç‚¹å¯¹è±¡</span><br/><span class="hl-6">const</span><span class="hl-2"> </span><span class="hl-7">node</span><span class="hl-2"> = </span><span class="hl-5">pool</span><span class="hl-2">.</span><span class="hl-1">acquireNode</span><span class="hl-2">({ </span><span class="hl-5">id:</span><span class="hl-2"> </span><span class="hl-8">1</span><span class="hl-2">, </span><span class="hl-5">name:</span><span class="hl-2"> </span><span class="hl-3">&#39;Node&#39;</span><span class="hl-2"> });</span><br/><br/><span class="hl-0">// ä½¿ç”¨åå½’è¿˜</span><br/><span class="hl-5">pool</span><span class="hl-2">.</span><span class="hl-1">releaseNode</span><span class="hl-2">(</span><span class="hl-5">node</span><span class="hl-2">);</span><br/><br/><span class="hl-0">// è·å–ç»Ÿè®¡ä¿¡æ¯</span><br/><span class="hl-6">const</span><span class="hl-2"> </span><span class="hl-7">poolStats</span><span class="hl-2"> = </span><span class="hl-5">pool</span><span class="hl-2">.</span><span class="hl-1">getStats</span><span class="hl-2">();</span>
</code><button type="button">Copy</button></pre>

<h4 id="ç¼“å­˜æœºåˆ¶" class="tsd-anchor-link">ç¼“å­˜æœºåˆ¶<a href="#ç¼“å­˜æœºåˆ¶" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="typescript"><span class="hl-4">import</span><span class="hl-2"> { </span><span class="hl-5">SimpleCache</span><span class="hl-2">, </span><span class="hl-5">LRUCache</span><span class="hl-2"> } </span><span class="hl-4">from</span><span class="hl-2"> </span><span class="hl-3">&#39;tree-formatter/utils&#39;</span><span class="hl-2">;</span><br/><br/><span class="hl-0">// ç®€å•ç¼“å­˜</span><br/><span class="hl-6">const</span><span class="hl-2"> </span><span class="hl-7">simpleCache</span><span class="hl-2"> = </span><span class="hl-6">new</span><span class="hl-2"> </span><span class="hl-1">SimpleCache</span><span class="hl-2">&lt;</span><span class="hl-10">string</span><span class="hl-2">, </span><span class="hl-10">any</span><span class="hl-2">&gt;(</span><span class="hl-8">5000</span><span class="hl-2">); </span><span class="hl-0">// 5ç§’TTL</span><br/><span class="hl-5">simpleCache</span><span class="hl-2">.</span><span class="hl-1">set</span><span class="hl-2">(</span><span class="hl-3">&#39;key1&#39;</span><span class="hl-2">, </span><span class="hl-5">tree</span><span class="hl-2">);</span><br/><span class="hl-6">const</span><span class="hl-2"> </span><span class="hl-7">cachedTree</span><span class="hl-2"> = </span><span class="hl-5">simpleCache</span><span class="hl-2">.</span><span class="hl-1">get</span><span class="hl-2">(</span><span class="hl-3">&#39;key1&#39;</span><span class="hl-2">);</span><br/><br/><span class="hl-0">// LRUç¼“å­˜ï¼ˆå›ºå®šå¤§å°ï¼‰</span><br/><span class="hl-6">const</span><span class="hl-2"> </span><span class="hl-7">lruCache</span><span class="hl-2"> = </span><span class="hl-6">new</span><span class="hl-2"> </span><span class="hl-1">LRUCache</span><span class="hl-2">&lt;</span><span class="hl-10">string</span><span class="hl-2">, </span><span class="hl-10">any</span><span class="hl-2">&gt;(</span><span class="hl-8">100</span><span class="hl-2">); </span><span class="hl-0">// æœ€å¤š100æ¡</span><br/><span class="hl-5">lruCache</span><span class="hl-2">.</span><span class="hl-1">set</span><span class="hl-2">(</span><span class="hl-3">&#39;key2&#39;</span><span class="hl-2">, </span><span class="hl-5">tree</span><span class="hl-2">);</span>
</code><button type="button">Copy</button></pre>

<h2 id="ğŸ“Š-æ€§èƒ½å¯¹æ¯”" class="tsd-anchor-link">ğŸ“Š æ€§èƒ½å¯¹æ¯”<a href="#ğŸ“Š-æ€§èƒ½å¯¹æ¯”" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><table>
<thead>
<tr>
<th>åœºæ™¯</th>
<th>èŠ‚ç‚¹æ•°</th>
<th>æœ€å°åŒ–æ„å»º</th>
<th>å¢å¼ºæ„å»º</th>
<th>æ’ä»¶åŒ–æ„å»º</th>
</tr>
</thead>
<tbody>
<tr>
<td>å°æ•°æ®</td>
<td>100</td>
<td>~0.1ms</td>
<td>~0.3ms</td>
<td>~0.5ms</td>
</tr>
<tr>
<td>ä¸­ç­‰æ•°æ®</td>
<td>1,000</td>
<td>~1ms</td>
<td>~3ms</td>
<td>~5ms</td>
</tr>
<tr>
<td>å¤§æ•°æ®</td>
<td>10,000</td>
<td>~10ms</td>
<td>~30ms</td>
<td>~50ms</td>
</tr>
<tr>
<td>è¶…å¤§æ•°æ®</td>
<td>100,000</td>
<td>~100ms</td>
<td>~300ms</td>
<td>~500ms</td>
</tr>
</tbody>
</table>
<h2 id="ğŸ”§-é…ç½®é€‰é¡¹" class="tsd-anchor-link">ğŸ”§ é…ç½®é€‰é¡¹<a href="#ğŸ”§-é…ç½®é€‰é¡¹" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><h3 id="treebuilderconfigï¼ˆåŸºç¡€é…ç½®ï¼‰" class="tsd-anchor-link">TreeBuilderConfigï¼ˆåŸºç¡€é…ç½®ï¼‰<a href="#treebuilderconfigï¼ˆåŸºç¡€é…ç½®ï¼‰" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-6">interface</span><span class="hl-2"> </span><span class="hl-10">TreeBuilderConfig</span><span class="hl-2"> {</span><br/><span class="hl-2">  </span><span class="hl-5">idKey</span><span class="hl-2">?: </span><span class="hl-10">string</span><span class="hl-2">;                    </span><span class="hl-0">// èŠ‚ç‚¹IDå­—æ®µï¼Œé»˜è®¤ &#39;id&#39;</span><br/><span class="hl-2">  </span><span class="hl-5">parentKey</span><span class="hl-2">?: </span><span class="hl-10">string</span><span class="hl-2">;                </span><span class="hl-0">// çˆ¶èŠ‚ç‚¹IDå­—æ®µï¼Œé»˜è®¤ &#39;parentId&#39;</span><br/><span class="hl-2">  </span><span class="hl-5">childrenKey</span><span class="hl-2">?: </span><span class="hl-10">string</span><span class="hl-2">;              </span><span class="hl-0">// å­èŠ‚ç‚¹å­—æ®µï¼Œé»˜è®¤ &#39;children&#39;</span><br/><span class="hl-2">  </span><span class="hl-5">rootParentId</span><span class="hl-2">?: </span><span class="hl-10">string</span><span class="hl-2"> | </span><span class="hl-10">number</span><span class="hl-2"> | </span><span class="hl-10">null</span><span class="hl-2">; </span><span class="hl-0">// æ ¹èŠ‚ç‚¹çš„çˆ¶IDå€¼ï¼Œé»˜è®¤ 0</span><br/><span class="hl-2">  </span><span class="hl-5">enableGhostNodes</span><span class="hl-2">?: </span><span class="hl-10">boolean</span><span class="hl-2">;        </span><span class="hl-0">// æ˜¯å¦å…è®¸å¹½çµèŠ‚ç‚¹ï¼Œé»˜è®¤ false</span><br/><span class="hl-2">  </span><span class="hl-5">validateNodes</span><span class="hl-2">?: </span><span class="hl-10">boolean</span><span class="hl-2">;           </span><span class="hl-0">// æ˜¯å¦éªŒè¯èŠ‚ç‚¹æ•°æ®ï¼Œé»˜è®¤ true</span><br/><span class="hl-2">  </span><span class="hl-5">maxDepth</span><span class="hl-2">?: </span><span class="hl-10">number</span><span class="hl-2">;                 </span><span class="hl-0">// æœ€å¤§æ ‘æ·±åº¦ï¼Œé»˜è®¤ 1000</span><br/><span class="hl-2">  </span><span class="hl-5">enableCache</span><span class="hl-2">?: </span><span class="hl-10">boolean</span><span class="hl-2">;             </span><span class="hl-0">// æ˜¯å¦ç¼“å­˜ç»“æœï¼Œé»˜è®¤ false</span><br/><span class="hl-2">}</span>
</code><button type="button">Copy</button></pre>

<h3 id="enhancedtreeconfigï¼ˆå¢å¼ºé…ç½®ï¼‰" class="tsd-anchor-link">EnhancedTreeConfigï¼ˆå¢å¼ºé…ç½®ï¼‰<a href="#enhancedtreeconfigï¼ˆå¢å¼ºé…ç½®ï¼‰" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-6">interface</span><span class="hl-2"> </span><span class="hl-10">EnhancedTreeConfig</span><span class="hl-2"> </span><span class="hl-6">extends</span><span class="hl-2"> </span><span class="hl-10">TreeBuilderConfig</span><span class="hl-2"> {</span><br/><span class="hl-2">  </span><span class="hl-5">detectCycles</span><span class="hl-2">?: </span><span class="hl-10">boolean</span><span class="hl-2">;            </span><span class="hl-0">// æ˜¯å¦æ£€æµ‹å¾ªç¯å¼•ç”¨ï¼Œé»˜è®¤ false</span><br/><span class="hl-2">  </span><span class="hl-1">onCycleDetected</span><span class="hl-2">?: (</span><span class="hl-5">node</span><span class="hl-2">: </span><span class="hl-10">any</span><span class="hl-2">, </span><span class="hl-5">cyclePath</span><span class="hl-2">: (</span><span class="hl-10">string</span><span class="hl-2"> | </span><span class="hl-10">number</span><span class="hl-2">)[]) </span><span class="hl-6">=&gt;</span><span class="hl-2"> </span><span class="hl-10">void</span><span class="hl-2">;</span><br/><span class="hl-2">  </span><span class="hl-1">sortChildren</span><span class="hl-2">?: (</span><span class="hl-5">a</span><span class="hl-2">: </span><span class="hl-10">any</span><span class="hl-2">, </span><span class="hl-5">b</span><span class="hl-2">: </span><span class="hl-10">any</span><span class="hl-2">) </span><span class="hl-6">=&gt;</span><span class="hl-2"> </span><span class="hl-10">number</span><span class="hl-2">; </span><span class="hl-0">// å­èŠ‚ç‚¹æ’åºå‡½æ•°</span><br/><span class="hl-2">  </span><span class="hl-1">formatNode</span><span class="hl-2">?: (</span><span class="hl-5">node</span><span class="hl-2">: </span><span class="hl-10">any</span><span class="hl-2">, </span><span class="hl-5">context</span><span class="hl-2">: </span><span class="hl-10">NodeContext</span><span class="hl-2">) </span><span class="hl-6">=&gt;</span><span class="hl-2"> </span><span class="hl-10">any</span><span class="hl-2">; </span><span class="hl-0">// èŠ‚ç‚¹æ ¼å¼åŒ–å‡½æ•°</span><br/><span class="hl-2">  </span><span class="hl-1">isRootNode</span><span class="hl-2">?: (</span><span class="hl-5">node</span><span class="hl-2">: </span><span class="hl-10">any</span><span class="hl-2">) </span><span class="hl-6">=&gt;</span><span class="hl-2"> </span><span class="hl-10">boolean</span><span class="hl-2">; </span><span class="hl-0">// è‡ªå®šä¹‰æ ¹èŠ‚ç‚¹åˆ¤æ–­å‡½æ•°</span><br/><span class="hl-2">}</span>
</code><button type="button">Copy</button></pre>

<h2 id="ğŸ¯-ä½¿ç”¨åœºæ™¯ç¤ºä¾‹" class="tsd-anchor-link">ğŸ¯ ä½¿ç”¨åœºæ™¯ç¤ºä¾‹<a href="#ğŸ¯-ä½¿ç”¨åœºæ™¯ç¤ºä¾‹" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><h3 id="åœºæ™¯1ï¼šåç«¯apiæ•°æ®è½¬æ¢" class="tsd-anchor-link">åœºæ™¯1ï¼šåç«¯APIæ•°æ®è½¬æ¢<a href="#åœºæ™¯1ï¼šåç«¯apiæ•°æ®è½¬æ¢" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-0">// å°†æ•°æ®åº“æŸ¥è¯¢çš„æ‰å¹³æ•°æ®è½¬æ¢ä¸ºæ ‘å½¢ç»“æ„</span><br/><span class="hl-4">import</span><span class="hl-2"> { </span><span class="hl-5">buildMinimalTree</span><span class="hl-2"> } </span><span class="hl-4">from</span><span class="hl-2"> </span><span class="hl-3">&#39;tree-formatter/core&#39;</span><span class="hl-2">;</span><br/><br/><span class="hl-6">async</span><span class="hl-2"> </span><span class="hl-6">function</span><span class="hl-2"> </span><span class="hl-1">getMenuTree</span><span class="hl-2">() {</span><br/><span class="hl-2">  </span><span class="hl-0">// ä»æ•°æ®åº“è·å–æ‰å¹³æ•°æ®</span><br/><span class="hl-2">  </span><span class="hl-6">const</span><span class="hl-2"> </span><span class="hl-7">flatData</span><span class="hl-2"> = </span><span class="hl-4">await</span><span class="hl-2"> </span><span class="hl-5">db</span><span class="hl-2">.</span><span class="hl-1">query</span><span class="hl-2">(</span><span class="hl-3">`</span><br/><span class="hl-3">    SELECT id, parent_id as parentId, name, icon, route</span><br/><span class="hl-3">    FROM menus</span><br/><span class="hl-3">    ORDER BY sort_order</span><br/><span class="hl-3">  `</span><span class="hl-2">);</span><br/><span class="hl-2">  </span><br/><span class="hl-2">  </span><span class="hl-0">// è½¬æ¢ä¸ºæ ‘å½¢ç»“æ„</span><br/><span class="hl-2">  </span><span class="hl-4">return</span><span class="hl-2"> </span><span class="hl-1">buildMinimalTree</span><span class="hl-2">(</span><span class="hl-5">flatData</span><span class="hl-2">, {</span><br/><span class="hl-2">    </span><span class="hl-5">idKey:</span><span class="hl-2"> </span><span class="hl-3">&#39;id&#39;</span><span class="hl-2">,</span><br/><span class="hl-2">    </span><span class="hl-5">parentKey:</span><span class="hl-2"> </span><span class="hl-3">&#39;parentId&#39;</span><span class="hl-2">,</span><br/><span class="hl-2">    </span><span class="hl-5">childrenKey:</span><span class="hl-2"> </span><span class="hl-3">&#39;children&#39;</span><br/><span class="hl-2">  });</span><br/><span class="hl-2">}</span>
</code><button type="button">Copy</button></pre>

<h3 id="åœºæ™¯2ï¼šå‰ç«¯ç»„ä»¶æ ‘æ¸²æŸ“" class="tsd-anchor-link">åœºæ™¯2ï¼šå‰ç«¯ç»„ä»¶æ ‘æ¸²æŸ“<a href="#åœºæ™¯2ï¼šå‰ç«¯ç»„ä»¶æ ‘æ¸²æŸ“" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-0">// React/Vueç»„ä»¶æ ‘æ¸²æŸ“</span><br/><span class="hl-4">import</span><span class="hl-2"> { </span><span class="hl-5">buildEnhancedTree</span><span class="hl-2"> } </span><span class="hl-4">from</span><span class="hl-2"> </span><span class="hl-3">&#39;tree-formatter/core&#39;</span><span class="hl-2">;</span><br/><span class="hl-4">import</span><span class="hl-2"> { </span><span class="hl-5">validateTreeStructure</span><span class="hl-2"> } </span><span class="hl-4">from</span><span class="hl-2"> </span><span class="hl-3">&#39;tree-formatter/utils&#39;</span><span class="hl-2">;</span><br/><br/><span class="hl-6">function</span><span class="hl-2"> </span><span class="hl-1">ComponentTree</span><span class="hl-2">({ </span><span class="hl-5">data</span><span class="hl-2"> }) {</span><br/><span class="hl-2">  </span><span class="hl-0">// æ„å»ºå¹¶éªŒè¯æ ‘</span><br/><span class="hl-2">  </span><span class="hl-6">const</span><span class="hl-2"> </span><span class="hl-7">tree</span><span class="hl-2"> = </span><span class="hl-1">buildEnhancedTree</span><span class="hl-2">(</span><span class="hl-5">data</span><span class="hl-2">, {</span><br/><span class="hl-2">    </span><span class="hl-5">idKey:</span><span class="hl-2"> </span><span class="hl-3">&#39;id&#39;</span><span class="hl-2">,</span><br/><span class="hl-2">    </span><span class="hl-5">parentKey:</span><span class="hl-2"> </span><span class="hl-3">&#39;parentId&#39;</span><span class="hl-2">,</span><br/><span class="hl-2">    </span><span class="hl-5">detectCycles:</span><span class="hl-2"> </span><span class="hl-6">true</span><span class="hl-2">,</span><br/><span class="hl-2">    </span><span class="hl-1">sortChildren</span><span class="hl-5">:</span><span class="hl-2"> (</span><span class="hl-5">a</span><span class="hl-2">, </span><span class="hl-5">b</span><span class="hl-2">) </span><span class="hl-6">=&gt;</span><span class="hl-2"> </span><span class="hl-5">a</span><span class="hl-2">.</span><span class="hl-5">order</span><span class="hl-2"> - </span><span class="hl-5">b</span><span class="hl-2">.</span><span class="hl-5">order</span><br/><span class="hl-2">  });</span><br/><span class="hl-2">  </span><br/><span class="hl-2">  </span><span class="hl-6">const</span><span class="hl-2"> </span><span class="hl-7">validation</span><span class="hl-2"> = </span><span class="hl-1">validateTreeStructure</span><span class="hl-2">(</span><span class="hl-5">tree</span><span class="hl-2">);</span><br/><span class="hl-2">  </span><span class="hl-4">if</span><span class="hl-2"> (!</span><span class="hl-5">validation</span><span class="hl-2">.</span><span class="hl-5">isValid</span><span class="hl-2">) {</span><br/><span class="hl-2">    </span><span class="hl-4">return</span><span class="hl-2"> &lt;</span><span class="hl-10">ErrorComponent</span><span class="hl-2"> </span><span class="hl-10">errors</span><span class="hl-2">={</span><span class="hl-10">validation</span><span class="hl-2">.</span><span class="hl-5">errors</span><span class="hl-2">} /&gt;;</span><br/><span class="hl-2">  }</span><br/><span class="hl-2">  </span><br/><span class="hl-2">  </span><span class="hl-4">return</span><span class="hl-2"> &lt;</span><span class="hl-10">TreeView</span><span class="hl-2"> </span><span class="hl-10">data</span><span class="hl-2">={</span><span class="hl-5">tree</span><span class="hl-2">} /&gt;;</span><br/><span class="hl-2">}</span>
</code><button type="button">Copy</button></pre>

<h3 id="åœºæ™¯3ï¼šå¤§å‹æ•°æ®å¯è§†åŒ–" class="tsd-anchor-link">åœºæ™¯3ï¼šå¤§å‹æ•°æ®å¯è§†åŒ–<a href="#åœºæ™¯3ï¼šå¤§å‹æ•°æ®å¯è§†åŒ–" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-0">// å¤„ç†å¤§é‡æ•°æ®çš„æ ‘å½¢å¯è§†åŒ–</span><br/><span class="hl-4">import</span><span class="hl-2"> { </span><span class="hl-5">SmartTreeBuilder</span><span class="hl-2"> } </span><span class="hl-4">from</span><span class="hl-2"> </span><span class="hl-3">&#39;tree-formatter/builder&#39;</span><span class="hl-2">;</span><br/><span class="hl-4">import</span><span class="hl-2"> { </span><span class="hl-5">createCycleDetectionPlugin</span><span class="hl-2"> } </span><span class="hl-4">from</span><span class="hl-2"> </span><span class="hl-3">&#39;tree-formatter/plugins&#39;</span><span class="hl-2">;</span><br/><br/><span class="hl-6">async</span><span class="hl-2"> </span><span class="hl-6">function</span><span class="hl-2"> </span><span class="hl-1">renderLargeTree</span><span class="hl-2">(</span><span class="hl-5">flatData</span><span class="hl-2">) {</span><br/><span class="hl-2">  </span><span class="hl-6">const</span><span class="hl-2"> </span><span class="hl-7">builder</span><span class="hl-2"> = </span><span class="hl-6">new</span><span class="hl-2"> </span><span class="hl-1">SmartTreeBuilder</span><span class="hl-2">({</span><br/><span class="hl-2">    </span><span class="hl-5">idKey:</span><span class="hl-2"> </span><span class="hl-3">&#39;id&#39;</span><span class="hl-2">,</span><br/><span class="hl-2">    </span><span class="hl-5">parentKey:</span><span class="hl-2"> </span><span class="hl-3">&#39;parentId&#39;</span><span class="hl-2">,</span><br/><span class="hl-2">    </span><span class="hl-5">enableCache:</span><span class="hl-2"> </span><span class="hl-6">true</span><span class="hl-2">,</span><br/><span class="hl-2">    </span><span class="hl-5">maxDepth:</span><span class="hl-2"> </span><span class="hl-8">50</span><br/><span class="hl-2">  });</span><br/><span class="hl-2">  </span><br/><span class="hl-2">  </span><span class="hl-5">builder</span><span class="hl-2">.</span><span class="hl-1">use</span><span class="hl-2">(</span><span class="hl-1">createCycleDetectionPlugin</span><span class="hl-2">());</span><br/><span class="hl-2">  </span><br/><span class="hl-2">  </span><span class="hl-0">// ä½¿ç”¨Web Workerå¤„ç†å¤§æ•°æ®</span><br/><span class="hl-2">  </span><span class="hl-4">if</span><span class="hl-2"> (</span><span class="hl-5">flatData</span><span class="hl-2">.</span><span class="hl-5">length</span><span class="hl-2"> &gt; </span><span class="hl-8">10000</span><span class="hl-2">) {</span><br/><span class="hl-2">    </span><span class="hl-4">return</span><span class="hl-2"> </span><span class="hl-4">await</span><span class="hl-2"> </span><span class="hl-1">processInWorker</span><span class="hl-2">(</span><span class="hl-5">flatData</span><span class="hl-2">, </span><span class="hl-5">builder</span><span class="hl-2">);</span><br/><span class="hl-2">  }</span><br/><span class="hl-2">  </span><br/><span class="hl-2">  </span><span class="hl-4">return</span><span class="hl-2"> </span><span class="hl-5">builder</span><span class="hl-2">.</span><span class="hl-1">build</span><span class="hl-2">(</span><span class="hl-5">flatData</span><span class="hl-2">);</span><br/><span class="hl-2">}</span>
</code><button type="button">Copy</button></pre>

<h2 id="ğŸš¨-æ³¨æ„äº‹é¡¹" class="tsd-anchor-link">ğŸš¨ æ³¨æ„äº‹é¡¹<a href="#ğŸš¨-æ³¨æ„äº‹é¡¹" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><ol>
<li><strong>IDå­—æ®µå¿…é¡»å”¯ä¸€</strong>ï¼šç¡®ä¿æ¯ä¸ªèŠ‚ç‚¹çš„IDå­—æ®µå€¼æ˜¯å”¯ä¸€çš„</li>
<li><strong>å¾ªç¯å¼•ç”¨å¤„ç†</strong>ï¼šå¯ç”¨å¾ªç¯å¼•ç”¨æ£€æµ‹ä»¥é¿å…æ— é™é€’å½’</li>
<li><strong>å†…å­˜ä½¿ç”¨</strong>ï¼šå¤„ç†è¶…å¤§æ•°æ®æ—¶è€ƒè™‘ä½¿ç”¨å¢é‡æ„å»ºæˆ–åˆ†é¡µ</li>
<li><strong>æ€§èƒ½ä¼˜åŒ–</strong>ï¼šæ ¹æ®æ•°æ®é‡é€‰æ‹©åˆé€‚çš„æ„å»ºç­–ç•¥</li>
<li><strong>ç±»å‹å®‰å…¨</strong>ï¼šä½¿ç”¨TypeScriptä»¥è·å¾—å®Œæ•´çš„ç±»å‹æç¤º</li>
</ol>
<h2 id="ğŸ“–-apiæ–‡æ¡£" class="tsd-anchor-link">ğŸ“– APIæ–‡æ¡£<a href="#ğŸ“–-apiæ–‡æ¡£" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>å®Œæ•´APIæ–‡æ¡£å¯é€šè¿‡TypeScriptç±»å‹å®šä¹‰æŸ¥çœ‹ï¼Œæˆ–è¿è¡Œï¼š</p>
<pre><code class="bash"><span class="hl-0"># ç”ŸæˆAPIæ–‡æ¡£</span><br/><span class="hl-1">npx</span><span class="hl-2"> </span><span class="hl-3">typedoc</span><span class="hl-2"> </span><span class="hl-6">--out</span><span class="hl-2"> </span><span class="hl-3">docs</span><span class="hl-2"> </span><span class="hl-3">src/</span>
</code><button type="button">Copy</button></pre>

<h2 id="ğŸ¤-è´¡çŒ®" class="tsd-anchor-link">ğŸ¤ è´¡çŒ®<a href="#ğŸ¤-è´¡çŒ®" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>æ¬¢è¿æäº¤Issueå’ŒPull Requestã€‚åœ¨æäº¤ä¹‹å‰ï¼Œè¯·ç¡®ä¿ï¼š</p>
<ol>
<li>ä»£ç é€šè¿‡æ‰€æœ‰æµ‹è¯•ï¼š<code>pnpm test</code></li>
<li>ä»£ç ç¬¦åˆTypeScriptè§„èŒƒï¼š<code>pnpm lint</code></li>
<li>æ·»åŠ æˆ–æ›´æ–°ç›¸å…³æµ‹è¯•ç”¨ä¾‹</li>
</ol>
<h2 id="ğŸ“„-è®¸å¯è¯" class="tsd-anchor-link">ğŸ“„ è®¸å¯è¯<a href="#ğŸ“„-è®¸å¯è¯" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>MIT License Â© 2025 Tree Formatter</p>
<h2 id="ğŸŒŸ-æ”¯æŒ" class="tsd-anchor-link">ğŸŒŸ æ”¯æŒ<a href="#ğŸŒŸ-æ”¯æŒ" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>å¦‚æœä½ è§‰å¾—è¿™ä¸ªåº“æœ‰ç”¨ï¼Œè¯·ï¼š</p>
<ol>
<li>â­ Star è¿™ä¸ªé¡¹ç›®</li>
<li>ğŸ“¢ åˆ†äº«ç»™å…¶ä»–å¼€å‘è€…</li>
<li>ğŸ› æŠ¥å‘Šé—®é¢˜</li>
<li>ğŸ’¡ æå‡ºæ–°åŠŸèƒ½å»ºè®®</li>
</ol>
<hr>
<p><strong>Tree Formatter</strong> - è®©æ ‘å½¢æ•°æ®å¤„ç†å˜å¾—ç®€å•é«˜æ•ˆï¼</p>
</div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-chevronDown"></use></svg><h3>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-chevronDown"></use></svg><h3>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#tree-formatter-ğŸŒ³"><span>Tree <wbr/>Formatter ğŸŒ³</span></a><ul><li><a href="#âœ¨-ç‰¹æ€§"><span>âœ¨ ç‰¹æ€§</span></a></li><li><a href="#ğŸ“¦-å®‰è£…"><span>ğŸ“¦ å®‰è£…</span></a></li><li><a href="#ğŸš€-å¿«é€Ÿå¼€å§‹"><span>ğŸš€ å¿«é€Ÿå¼€å§‹</span></a></li><li><ul><li><a href="#ç®€å•é¡¹ç›®ï¼šå¿«é€Ÿæ„å»ºæ ‘å½¢ç»“æ„"><span>ç®€å•é¡¹ç›®ï¼šå¿«é€Ÿæ„å»ºæ ‘å½¢ç»“æ„</span></a></li><li><a href="#å¤§å‹é¡¹ç›®ï¼šæŒ‰éœ€å¯¼å…¥ä¼˜åŒ–æ‰“åŒ…ä½“ç§¯"><span>å¤§å‹é¡¹ç›®ï¼šæŒ‰éœ€å¯¼å…¥ä¼˜åŒ–æ‰“åŒ…ä½“ç§¯</span></a></li><li><a href="#æ’ä»¶åŒ–æ„å»ºï¼šä½¿ç”¨æ„å»ºå™¨æ¨¡å¼"><span>æ’ä»¶åŒ–æ„å»ºï¼šä½¿ç”¨æ„å»ºå™¨æ¨¡å¼</span></a></li><li><a href="#å®Œæ•´ç±»å‹å¯¼å‡ºï¼štypescriptå‹å¥½"><span>å®Œæ•´ç±»å‹å¯¼å‡ºï¼š<wbr/>Type<wbr/>Scriptå‹å¥½</span></a></li></ul></li><li><a href="#ğŸ“š-è¯¦ç»†ä½¿ç”¨æŒ‡å—"><span>ğŸ“š è¯¦ç»†ä½¿ç”¨æŒ‡å—</span></a></li><li><ul><li><a href="#1-æ ¸å¿ƒæ„å»ºå‡½æ•°"><span>1. æ ¸å¿ƒæ„å»ºå‡½æ•°</span></a></li><li><ul><li><a href="#-æœ€å°åŒ–æ„å»ºï¼ˆå¯¹æ ‡-row-to-treeï¼‰"><span> -<wbr/> æœ€å°åŒ–æ„å»ºï¼ˆå¯¹æ ‡ row-<wbr/>to-<wbr/>treeï¼‰</span></a></li><li><a href="#-å¢å¼ºæ„å»ºï¼ˆæ”¯æŒé«˜çº§åŠŸèƒ½ï¼‰"><span> -<wbr/> å¢å¼ºæ„å»ºï¼ˆæ”¯æŒé«˜çº§åŠŸèƒ½ï¼‰</span></a></li></ul></li><li><a href="#2-æ™ºèƒ½æ„å»ºå™¨ï¼ˆsmarttreebuilderï¼‰"><span>2. æ™ºèƒ½æ„å»ºå™¨ï¼ˆ<wbr/>Smart<wbr/>Tree<wbr/>Builderï¼‰</span></a></li><li><a href="#3-æ’ä»¶ç³»ç»Ÿ"><span>3. æ’ä»¶ç³»ç»Ÿ</span></a></li><li><ul><li><a href="#å¾ªç¯å¼•ç”¨æ£€æµ‹æ’ä»¶"><span>å¾ªç¯å¼•ç”¨æ£€æµ‹æ’ä»¶</span></a></li><li><a href="#æ’åºæ’ä»¶"><span>æ’åºæ’ä»¶</span></a></li><li><a href="#æ ¼å¼åŒ–æ’ä»¶"><span>æ ¼å¼åŒ–æ’ä»¶</span></a></li></ul></li><li><a href="#4-å·¥å…·å‡½æ•°"><span>4. å·¥å…·å‡½æ•°</span></a></li><li><a href="#5-æ€§èƒ½ä¼˜åŒ–"><span>5. æ€§èƒ½ä¼˜åŒ–</span></a></li><li><ul><li><a href="#å¯¹è±¡æ± ï¼ˆå‡å°‘å†…å­˜åˆ†é…ï¼‰"><span>å¯¹è±¡æ± ï¼ˆå‡å°‘å†…å­˜åˆ†é…ï¼‰</span></a></li><li><a href="#ç¼“å­˜æœºåˆ¶"><span>ç¼“å­˜æœºåˆ¶</span></a></li></ul></li></ul></li><li><a href="#ğŸ“Š-æ€§èƒ½å¯¹æ¯”"><span>ğŸ“Š æ€§èƒ½å¯¹æ¯”</span></a></li><li><a href="#ğŸ”§-é…ç½®é€‰é¡¹"><span>ğŸ”§ é…ç½®é€‰é¡¹</span></a></li><li><ul><li><a href="#treebuilderconfigï¼ˆåŸºç¡€é…ç½®ï¼‰"><span>Tree<wbr/>Builder<wbr/>Configï¼ˆåŸºç¡€é…ç½®ï¼‰</span></a></li><li><a href="#enhancedtreeconfigï¼ˆå¢å¼ºé…ç½®ï¼‰"><span>Enhanced<wbr/>Tree<wbr/>Configï¼ˆå¢å¼ºé…ç½®ï¼‰</span></a></li></ul></li><li><a href="#ğŸ¯-ä½¿ç”¨åœºæ™¯ç¤ºä¾‹"><span>ğŸ¯ ä½¿ç”¨åœºæ™¯ç¤ºä¾‹</span></a></li><li><ul><li><a href="#åœºæ™¯1ï¼šåç«¯apiæ•°æ®è½¬æ¢"><span>åœºæ™¯1ï¼šåç«¯<wbr/>APIæ•°æ®è½¬æ¢</span></a></li><li><a href="#åœºæ™¯2ï¼šå‰ç«¯ç»„ä»¶æ ‘æ¸²æŸ“"><span>åœºæ™¯2ï¼šå‰ç«¯ç»„ä»¶æ ‘æ¸²æŸ“</span></a></li><li><a href="#åœºæ™¯3ï¼šå¤§å‹æ•°æ®å¯è§†åŒ–"><span>åœºæ™¯3ï¼šå¤§å‹æ•°æ®å¯è§†åŒ–</span></a></li></ul></li><li><a href="#ğŸš¨-æ³¨æ„äº‹é¡¹"><span>ğŸš¨ æ³¨æ„äº‹é¡¹</span></a></li><li><a href="#ğŸ“–-apiæ–‡æ¡£"><span>ğŸ“– <wbr/>APIæ–‡æ¡£</span></a></li><li><a href="#ğŸ¤-è´¡çŒ®"><span>ğŸ¤ è´¡çŒ®</span></a></li><li><a href="#ğŸ“„-è®¸å¯è¯"><span>ğŸ“„ è®¸å¯è¯</span></a></li><li><a href="#ğŸŒŸ-æ”¯æŒ"><span>ğŸŒŸ æ”¯æŒ</span></a></li></ul></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="modules.html">tree-formatter</a><ul class="tsd-small-nested-navigation" id="tsd-nav-container"><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>
